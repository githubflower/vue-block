{"version":3,"sources":["app.js"],"names":["devCfg","debugMode","testPath","publicPath","options","target","express","require","app","path","readline","fs","createServer","json","use","bodyParser","urlencoded","extended","__dirname","robot","permission","qrlDebugger","checkPermission","test","listen","console","log"],"mappings":"aAAA,IAAMA,OAAS,CACdC,WAAW,EADZC,SAAY,KACXD,WAAW,oDACXC,WAAUD,UAFIC,SAAAC,YAAfC,QAAA,CAOAC,OAAMD,sBACLC,cAAQ,GAIHC,QAAUC,QAAQ,WAAlBD,KAAOC,QAAU,QAEjBC,IAAMF,UADNG,GAAOF,QAAQ,MAGfG,SAAWH,QAAQ,YADnBI,OAAKJ,WAKVK,eADD,IAAIZ,WAAOC,QAAW,eACrBW,IAAAA,IAAAA,WAAYC,QACZL,IAAAM,IAAAC,WAAAC,WAAA,CAMAC,UAAU,KADXT,IAAIM,IAAIC,QAAAA,OAAWC,KAAAA,KAAWE,UAAA,SAK9BV,IAAIM,YAAWP,QAAQE,iBAGvBU,MAAAZ,QAAA,cAGMa,WAAab,QAAQ,cAF3BC,IAAMa,IAAAA,mBAAsBD,WAAAE,iBAI5Bd,IAAIM,IAAI,gBAAiB,CAACM,WAAWE,gBAAiBH,MAAMI,OAY3Df,IAFDgB,OAAA,GAAA,WACCC,QAAQC,IAAR","file":"app.min.js","sourcesContent":["const devCfg = {\r\n\tdebugMode: false,\r\n\ttestPath: './',\r\n\tpublicPath: '/media/flash/PallasSolutions/qblock_demo/project/',\r\n\ttargetPath: debugMode ? testPath : publicPath,\r\n};\r\n\r\nconst options = {\r\n\ttarget: 'http://127.0.0.1:80',\r\n\tchangeOrigin: true\r\n}\r\n\r\nconst express = require('express')\r\nconst path = require('path')\r\nconst app = express()\r\nconst fs = require('fs');\r\nconst readline = require('readline');\r\n// const proxy = require('http-proxy-middleware');\r\n\r\nif (devCfg.debugMode) {\r\n\tcreateServer();\r\n}\r\n\r\n\r\nvar bodyParser = require('body-parser');\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({\r\n\textended: false\r\n}));\r\n// app.use(proxy('/service/*', options))\r\n\r\napp.use(express.static(path.join(__dirname, 'www')))\r\n\r\n//======================中间件=======================================================\r\n//使用中间件处理权限 TODO   业务逻辑写到各自的中间件里面\r\nconst qrlDebugger = require('./Debugger.js');\r\nconst robot = require('./robot.js');\r\nconst permission = require('./robot.js');\r\napp.use('/service/setting', permission.checkPermission);\r\napp.use('/service/move', [permission.checkPermission, robot.test]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//所有获取数据尽量使用get请求\r\n\r\napp.listen(80, () => {\r\n\tconsole.log(`App listening at port 80`)\r\n})"]}