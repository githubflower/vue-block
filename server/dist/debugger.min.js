"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Debugger={checkPermission:function(){},setBreakpoint:function(e,t){var n=e.body.blockId,o=getLineInfo(n)+2;createBpInfoFile({filePath:targetPath+"bp.txt",bpStr:targetPath+"main.ql,"+o+"\n"}),t.send({code:200,msg:targetPath+"main.ql,"+o+"\n"})},stopDebugger:function(e,t){var n=++incrementId;console.log("is stopDebugger ing...");var o="<".concat(n,">debug$done$\n");console.log("stopDebugger : "+o);var r=getConnWithQRLDebugger();updateCurHttpConn(e,t,n,function(e){t.send({code:200,msg:e})}),r.write(o)},createBpInfoFile:function(e){fs.writeFile(e.filePath,e.bpStr,function(e){if(e)return console.log(e);console.log("创建断点信息文件bp.txt Success")})},step:function(){var e=getConnWithQRLDebugger(req,res),s=++incrementId;console.log("/service/step - threadId: "+threadId+" - sendId: "+s);var t="<".concat(s,">debug$step$tcp{client}: ").concat(threadId,"$\n");updateCurHttpConn(req,res,s,function(e){if(console.log(e),-1<e.indexOf("[Debug]:ok;step;"))return console.log("---listDebugInfo:("+s+")"),void listDebugInfo(s);if(e.indexOf("[Debug]:ok;listdebugee;")){var t=/\[Debug\]:ok;listdebugee;([0-9a-zA-Z]*).*\|(\d*);(\n)?$/.exec(e),n=0;if(t&&t[1]){threadId=t&&t[1],n=parseInt(t[2],10)-2;var o=fs.readFileSync(targetPath+"bp.json"),r=(o=JSON.parse(o))[String(n)];return void res.send({code:200,blockId:r,msg:"当前程序停留在id是"+r+"的块。"})}}res.send({code:200,msg:e})}),console.log("step命令： "+t),e.write(t)}},_default=Debugger;exports.default=_default;
//# sourceMappingURL=debugger.min.js.map
