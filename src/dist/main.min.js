"use strict";var _vue=_interopRequireDefault(require("vue")),_App=_interopRequireDefault(require("./App")),_router=_interopRequireDefault(require("./router")),_elementUi=_interopRequireDefault(require("element-ui"));require("element-ui/lib/theme-chalk/index.css");var _axios=_interopRequireDefault(require("axios"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}_vue.default.use(_elementUi.default,{size:"small",zIndex:3e3}),_vue.default.prototype.axios=_axios.default,_vue.default.config.productionTip=!1,window.stateManage={},window.genId=function(t){return t+"-"+ +new Date},window.store={debug:!0,statenameIndex:0,stateData:{threadAry:[{name:"线程1",width:1600,height:500,stateAry:[{stateId:"custom-state-id",stateType:"stateDiv",name:"默认状态名称1",inputAry:[],outputAry:[],children:[],x:5,y:0},{width:"302px",height:"122px",name:"状态描述99",stateType:"loopDiv",stateId:window.genId("state"),inputAry:[],outputAry:[],x:200,y:100,children:[{name:"child1",stateId:"state-child1",stateType:"stateDiv",inputAry:[],outputAry:[],x:50,y:50}]}],lineAry:[]}]},addThread:function(t){this.stateData.threadAry.push(t)},getDefaultStateCfg:function(t){return{width:"loopDiv"===t.stateType?"300px":"76px",height:"loopDiv"===t.stateType?"120px":"40px",name:"状态描述"+this.statenameIndex++,stateType:t.stateType,stateId:window.genId("state"),inputAry:[],outputAry:[],x:t.x,y:t.y,children:"loopDiv"===t.stateType?[{name:"child1",stateId:"state-child1",inputAry:[],outputAry:[],x:50,y:50}]:[]}},addState:function(t){var e=this.getDefaultStateCfg(t);this.stateData.threadAry[t.index].stateAry.push(e)},addLine:function(t){this.stateData.threadAry[t.threadIndex].lineAry.push(t.lineData),this.relateLine2startState(t),this.relateLine2endState(t)},deleteLine:function(t){var a,e,n=this.stateData.threadAry[t.threadIndex].lineAry;for(e=0;e<n.length;e++)if(n[e].lineId===t.lineId){a=n.splice(e,1)[0];break}var i=this.stateData.threadAry[t.threadIndex].stateAry,r=i.find(function(t){return t.stateId===a.startState.stateId}).outputAry;r.forEach(function(t,e){if(t.lineId===a.lineId)return r.splice(e,1),!1});var d=i.find(function(t){return t.stateId===a.endState.stateId}).inputAry;d.forEach(function(t,e){if(t.lineId===a.lineId)return d.splice(e,1),!1})},relateLine2startState:function(t){if(t.lineData.startState){var e=this.stateData.threadAry[t.threadIndex].stateAry[t.lineData.startState.stateIndex].outputAry;e||(e=[],this.stateData.threadAry[t.threadIndex].stateAry[t.lineData.startState.stateIndex].outputAry=e),e.push({lineId:t.lineData.lineId})}},relateLine2endState:function(t){if(t.lineData.endState&&null!==t.lineData.endState.stateIndex){var e=this.stateData.threadAry[t.threadIndex].stateAry[t.lineData.endState.stateIndex].inputAry;e||(e=[],this.stateData.threadAry[t.threadIndex].stateAry[t.lineData.endState.stateIndex].inputAry=e),e.push({lineId:t.lineData.lineId})}},resizeThread:function(t){t.dh&&(this.stateData.threadAry[t.threadIndex].height+=t.dh),t.dw&&(this.stateData.threadAry[t.threadIndex].width+=t.dw)}},window.EventObj=new _vue.default,new _vue.default({el:"#app",router:_router.default,components:{App:_App.default},template:"<App/>"});
//# sourceMappingURL=main.min.js.map
