"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _util=_interopRequireDefault(require("./util.js")),_graphCfg=require("./graphCfg.js");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var LINE_H=_graphCfg.lineCfg.line_h,LINE_RADIUS=_graphCfg.lineCfg.line_radius,QBlock={store:window.store,Thread:{},State:{getXY2CanvasWithStateRendered:function(t,e){var a=document.getElementsByClassName("thread")[e].getBoundingClientRect(),n=_util.default.getDomByStateId(t.stateId).getBoundingClientRect();return{x:n.left-a.left,y:n.top-a.top}},getXY2Canvas:function(t,e){var a={x:t.x,y:t.y};if(t.parent){var n=store.getState(e,t.stateId,!1),r=this.getXY2Canvas(n,e);a.x+=r.x,a.y+=r.y}return a},getStateHeight:function(t){return _util.default.translatePX2Num(t.height)},getStateHeightByStateId:function(t,e){var a=store.getState(t,e,!1);return _util.default.translatePX2Num(a.height)},getStateWidth:function(t){return _util.default.translatePX2Num(t.width)}},Line:{getStartPoint:function(t,e){var a=store.getState(e,t.startState.stateId,!1),n=QBlock.State.getXY2Canvas(a,e);return{x:n.x+_util.default.translatePX2Num(a.width),y:n.y+_util.default.translatePX2Num(a.height)/2+_graphCfg.lineCfg.threadTitleHeight}},getEndPoint:function(t,e){var a=store.getState(e,t.endState.stateId,!1),n=QBlock.State.getXY2Canvas(a,e);return{x:n.x,y:n.y+_util.default.translatePX2Num(a.height)/2+_graphCfg.lineCfg.threadTitleHeight}},redrawLine:function(t,e){this.drawLine(t,t.startState,t.endState,e)},drawLine:function(t,e,a,n){var r,i;r=QBlock.Line.getStartPoint(t,n),i=QBlock.Line.getEndPoint(t,n);var u,l=Math.abs(r.y-i.y)<2*LINE_RADIUS;if(i.y===r.y&&i.x>r.x)u=this.drawStraightConnectLine(r,i,LINE_RADIUS);else if(r.x>i.x-LINE_H-LINE_RADIUS)u=this.drawLine5ByStateAndPoint(e,r,a,i);else{var g=LINE_RADIUS;l&&(g=Math.abs(r.y-i.y)/2),u=this.drawLine3ByPoint(r,i,g)}return console.log(">>> "+u),u}}},_default=QBlock;exports.default=_default;
//# sourceMappingURL=qblock.min.js.map
